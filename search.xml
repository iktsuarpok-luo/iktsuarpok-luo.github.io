<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>O(1)复杂度数组</title>
    <url>/posts/a4ac25bb.html</url>
    <content><![CDATA[<p>最近碰到的一道比较有趣的面试题  </p>
<blockquote>
<p>设计一个特殊的数组，要求该数据结构以下三种操作的时间复杂度均为O(1)</p>
<ol>
<li>查询数组某个位置的元素</li>
<li>将数组某个位置的元素修改为指定值</li>
<li>将数组所有元素修改为指定值<br>这道题的困难之处在于，如何将第三个操作的复杂度降为O(1),正常来说修改所有元素的值要将操作二进行N次，如果操作二复杂度是O(1),操作三必然是O(N)。<br>最先想到的办法是用数组开头的第一个元素作为所有元素的代表，修改第一个元素代表着修改了所有元素，如果元素不同意，就将第一个元素置为特殊值。<br>但随之引发的问题是，修改了所有元素为x之后，修改其他的某个元素为y，此时再查询第三个元素，期望的结果是得到之前将其修改为的x，实际结果只能得到其修改前的值，因此这种想法不成立。  </li>
</ol>
</blockquote>
<p>最终的解决办法是这样的：<br>我们依然将数组开头的第一个元素作为所有元素的代表，同时，我们维护另一个等长的数组与这个数组一一对应，存放每个元素所处的层级（最近一次操作的时间），或者使用对象数组，每个对象包括元素值和层级两个变量。<br>举个例子，所有元素的层级初始都为0，修改某个位置的元素时，我们将其层级修改为当前最大层级+1，修改所有元素时，我们将数组第一个元素的层级修改为当前最大层级+1，每次查询时，要查询元素都和数组的第一个元素进行层级比较，输出层级比较大的元素。<br>这样的结果时每个操作都变成了两个O(1)操作，用额外的操作和空间提高了前两个操作的复杂度，将第三个操作复杂度降为O(1),符合题目要求。  </p>
<p>这个想法的来源是，我们的问题是不知道对所有元素的操作和对单个元素的操作的先后顺序，当我们知道了先后顺序之后我们很容易知道应该取什么值作为输出，因此我们就定义一个变量来记录他们的操作顺序。  </p>
<p>另外，这个想法还有一点改进，当我们进行了很多次操作之后，层级过大会超过数据类型能够存储的上限。因此，我们在最大层级为N的时候，进行一次降层。<br>降层操作时，将数组的每个元素都跟数组的第一个元素层级比较，判断其当前应该存储的值，进行修改，并将所有元素层级降为0，第一个元素层级降为-1。<br>降层是一个2N的操作，但是当最大层级为N的时候，我们必然已经进行N次修改操作，花费了至少2N的时间，即N次修改操作共花费了4N的时间，每个操作的时间复杂度平均为O(1)。<br>以上。</p>
]]></content>
      <categories>
        <category>C语言</category>
      </categories>
      <tags>
        <tag>有趣 算法</tag>
      </tags>
  </entry>
  <entry>
    <title>取模10^9+7</title>
    <url>/posts/f2b5c584.html</url>
    <content><![CDATA[<p>最近在一道笔试题里看到了一个运算结果很大的数，会超过所有类型的最大值，题目要求结果对<code>10^9+7</code>取模，上网搜索这个问题的解决方法才发现这是面试中常有的问题，所以记录一下。<br>为什么要取模？是因为结果不能用任何数字类型来存储，用字符串又不方便运算，所以要进行取模操作。<br>那为什么是<code>10^9+7</code>?首先，<code>10^9+7</code>是一个足够大的质数，对于质数求模操作可能得到的结果要远大于合数，有效避免了蒙中答案的概率。另外<code>10^9+7</code>有一个很好的特点，相加不超过int，相乘不超过longlong。<br>那么，代码上应该怎么解决呢？<br>很简单，这利用了同余定理</p>
<script type="math/tex; mode=display">如果a \equiv c(mod\ \ p),b \equiv d(mod\ \ p),那么有 ac \equiv bd(mod\ \ p)</script><p>在代码中，a,b相乘，对p取余，我们取a%p作为a的同余数，b%p作为b的同余数，那么<code>(a * b)%p = (a%p * b%p)%p</code>，根据<code>10^9+7</code>相乘不超过longlong的特点，我们就能避免溢出。<br>相加则类似于b=2的情况。<br>以上。</p>
]]></content>
      <categories>
        <category>数学</category>
      </categories>
      <tags>
        <tag>常用 算法</tag>
      </tags>
  </entry>
  <entry>
    <title>NexT主题点击页面链接出现404问题</title>
    <url>/posts/9c66eb6c.html</url>
    <content><![CDATA[<p>我自己在用Hexo+NexT搭建博客的时候碰到两个奇怪的问题，在百度搜不到解决方案，好像只有我自己出了这种情况，所以我在解决之后写两篇博客，或许有可能帮到后来的人。<br>这个问题是，在我新增Menu中的标签、分类等页面之后，再点击主页、标签、分类这些按钮的时候都出现了404的情况，检查之后发现地址栏中在正常的跳转链接之后出现了%20的符号。<br>大概是这个问题过于简单了，大神们没有提到这个问题的解决方案，其实也十分简单。<br>%20的出现是由于在链接后有空格，浏览器解析链接时将空格解析为%20而不是去除，导致了找不到相应页面，因此解决方案就是在主题配置文件中，搜索找到<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || list</span><br><span class="line">  archives: /archives/ || archive</span><br></pre></td></tr></table></figure><br>将所有打开的页面中，||符号前后的空格删掉，就可以避免链接最后错误的出现%20。<br>至此，问题解决。</p>
]]></content>
      <categories>
        <category>踩坑</category>
      </categories>
      <tags>
        <tag>Hexo+NexT</tag>
      </tags>
  </entry>
  <entry>
    <title>NexT主题中搜索会打开新的空白页问题的解决</title>
    <url>/posts/70ec6284.html</url>
    <content><![CDATA[<p>我自己在用Hexo+NexT搭建博客的时候碰到两个奇怪的问题，在百度搜不到解决方案，好像只有我自己出了这种情况，所以我在解决之后写两篇博客，或许有可能帮到后来的人。<br>这个问题是，我打开local search或者Algolia Search的时候，每次点击搜索都会弹出一个新的空白页<code>about:blank#blocked</code>,而且很奇怪的是这个问题在Chrome上有，在IE上则是正常。<br>检查网页元素发现搜索按钮的前端代码是<code>&lt;a href=&quot;javascript:;&quot; target=&quot;_blank&quot;&gt;</code>，就是这一句<code>target=&quot;_blank</code>打开了新页面，但是由于Chrome和IE在href和target属性上的优先级不同的原因，IE能够正常显示。<br>那么如何解决呢？<br>首先我尝试了将<code>target=&quot;_blank&quot;</code>改成<code>_self</code>或者<code>_parent</code>，会导致搜索页面不能打开，所以最后采用了在标签中加入语句<code>onclick=&quot;return false;&quot;</code>的办法解决，onclick的优先级在两种浏览器的优先级都是最高的，所以可以解决这个问题。<br>为了避免每次进行<code>hexo g</code>操作时都重置前端页面代码导致问题反复，我们需要在主题的配置文件中从根本上解决这个问题。<br>打开<code>\themes\next\layout\_partials\header.swig</code>，搜索找到如下代码：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% elseif theme.local_search.enable || theme.algolia_search.enable %&#125;</span><br><span class="line">    &lt;a href=&quot;javascript:;&quot; class=&quot;popup-trigger&quot;&gt;</span><br></pre></td></tr></table></figure><br>将<code>&lt;a&gt;</code>标签改成<code>&lt;a href=&quot;javascript:;&quot; onclick=&quot;return false;&quot; class=&quot;popup-trigger&quot;&gt;</code>，保存，hexo clean+hexo g+hexo d。<br>至此，问题解决。</p>
]]></content>
      <categories>
        <category>踩坑</category>
      </categories>
      <tags>
        <tag>Hexo+NexT</tag>
      </tags>
  </entry>
  <entry>
    <title>第一篇博客</title>
    <url>/posts/ff05b5bf.html</url>
    <content><![CDATA[<p>这是我的第一篇博客</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
</search>
